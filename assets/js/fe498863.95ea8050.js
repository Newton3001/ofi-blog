"use strict";(self.webpackChunkofi_blog_versioned=self.webpackChunkofi_blog_versioned||[]).push([[63289],{15681:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>d,toc:()=>o});var s=a(85893),r=a(11151),n=a(55274);const l={sidebar_custom_props:{id:"363ce817-3a72-46b9-a987-41f74c20fea2"}},i="Murder Mystery",d={id:"Datenbanken/sql/murder-mystery",title:"Murder Mystery",description:"A crime has taken place and the detective needs your help. The detective gave you the crime scene report, but you somehow lost it. You vaguely remember that the crime was a \u200bmurder\u200b that occurred sometime on \u200bJan.15, 2018\u200b and that it took place in \u200bSQL City\u200b. Start by retrieving the corresponding crime scene report from the police department\u2019s database.",source:"@site/versioned_docs/version-26e/09-Datenbanken/01-sql/05-murder-mystery.md",sourceDirName:"09-Datenbanken/01-sql",slug:"/Datenbanken/sql/murder-mystery",permalink:"/26e/Datenbanken/sql/murder-mystery",draft:!1,unlisted:!1,tags:[],version:"26e",sidebarPosition:5,frontMatter:{sidebar_custom_props:{id:"363ce817-3a72-46b9-a987-41f74c20fea2"}},sidebar:"sidebar",previous:{title:"Aggregierte Abfragen",permalink:"/26e/Datenbanken/sql/aggregation"},next:{title:"ER-Diagramme",permalink:"/26e/Datenbanken/erd/"}},c={},o=[];function u(e){const t={a:"a",blockquote:"blockquote",div:"div",h1:"h1",img:"img",p:"p",...(0,r.a)(),...e.components},{Answer:l,Comment:i,Dl:d,Figure:c,SourceRef:o}=t;return l||h("Answer",!0),i||h("Comment",!0),d||h("Dl",!0),c||h("Figure",!0),o||h("SourceRef",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.h1,{id:"murder-mystery",children:"Murder Mystery"}),(0,s.jsx)(i,{nr:0,type:"heading",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.p,{children:"A crime has taken place and the detective needs your help. The detective gave you the crime scene report, but you somehow lost it. You vaguely remember that the crime was a \u200bmurder\u200b that occurred sometime on \u200bJan.15, 2018\u200b and that it took place in \u200bSQL City\u200b. Start by retrieving the corresponding crime scene report from the police department\u2019s database."}),(0,s.jsx)(i,{nr:0,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),"\n"]}),"\n",(0,s.jsxs)(c,{children:[(0,s.jsx)(t.img,{alt:"Aufbau der Datenbank",src:a(86620).Z+"",width:"815",height:"399"}),(0,s.jsxs)("figcaption",{children:[(0,s.jsx)("span",{style:{flexGrow:1}}),"Aufbau der Datenbank",(0,s.jsx)("span",{style:{flexGrow:1}}),(0,s.jsx)(o,{bib:{author:"NUKnightLab",source:"https://github.com/NUKnightLab/sql-mysteries",licence:"MIT",licence_url:"https://github.com/NUKnightLab/sql-mysteries/blob/master/LICENSE",edited:!1}})]})]}),"\n",(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsxs)(d,{children:[(0,s.jsx)("dt",{children:(0,s.jsx)(t.p,{children:"Datenbank"})}),(0,s.jsx)("dd",{children:(0,s.jsxs)(t.p,{children:["\ud83d\udc49 ",(0,s.jsx)(t.a,{href:"https://db-sql.ch/connections/6750d31f-6978-4e24-b044-e2dd9763bd4f/murder_mystery",children:"murder_mystery"})]})})]}),(0,s.jsx)(i,{nr:1,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),"\n",(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.p,{children:"Finden Sie den M\xf6rder!"}),(0,s.jsx)(i,{nr:2,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),"\n",(0,s.jsx)(l,{type:"text",webKey:"1c69d8a7-1bdb-4152-9019-e95e7f76bc6e",monospace:!0}),"\n",(0,s.jsxs)(n.Z,{webKey:"d4aacf64-46fb-424c-9d19-9beb8afc0db6",solution:"Jeremy Bowers",children:[(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.p,{children:"Congrats, you found the murderer! \ud83e\udd73 But wait, there's more... If you think you're up for a challenge, try querying the interview transcript of the murderer to find the real villain behind this crime. If you feel especially confident in your SQL skills, try to complete this final step with no more than 2 queries."}),(0,s.jsx)(i,{nr:3,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),(0,s.jsx)(l,{type:"text",webKey:"00c67707-b1c9-43d3-a475-3f2cb8e64f35",monospace:!0}),(0,s.jsxs)(n.Z,{webKey:"755bb710-f142-4b53-85d6-8c875d16fe65",solution:"Miranda Priestly",children:[(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.p,{children:"Congrats, you found the brains behind the murder! \ud83e\udd73\ud83e\udd73\ud83e\udd73\ud83e\udd73\ud83e\udd73"}),(0,s.jsx)(i,{nr:4,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.p,{children:"Everyone in SQL City hails you as the greatest SQL detective of all time."}),(0,s.jsx)(i,{nr:5,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]}),(0,s.jsxs)(t.div,{className:"commentable",children:[(0,s.jsx)(t.p,{children:"Time to break out the champagne! \ud83c\udf7e\ud83e\udd42"}),(0,s.jsx)(i,{nr:6,type:"paragraph",pageId:"363ce817-3a72-46b9-a987-41f74c20fea2",children:(0,s.jsx)(t.p,{children:"."})})]})]})]})]})}function m(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}function h(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},34673:(e,t,a)=>{a.d(t,{Z:()=>f});var s=a(67294),r=a(36905),n=a(788),l=a(28138),i=a(72389),d=a(86043);const c={details:"details_lb9f",isBrowser:"isBrowser_bmU9",collapsibleContent:"collapsibleContent_i85q"};var o=a(85893);function u(e){return!!e&&("SUMMARY"===e.tagName||u(e.parentElement))}function m(e,t){return!!e&&(e===t||m(e.parentElement,t))}function h(e){let{summary:t,children:a,...r}=e;(0,l.Z)().collectAnchor(r.id);const h=(0,i.Z)(),p=(0,s.useRef)(null),{collapsed:b,setCollapsed:f}=(0,d.u)({initialState:!r.open}),[x,y]=(0,s.useState)(r.open),v=s.isValidElement(t)?t:(0,o.jsx)("summary",{children:t??"Details"});return(0,o.jsxs)("details",{...r,ref:p,open:x,"data-collapsed":b,className:(0,n.Z)(c.details,h&&c.isBrowser,r.className),onMouseDown:e=>{u(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;u(t)&&m(t,p.current)&&(e.preventDefault(),b?(f(!1),y(!0)):f(!0))},children:[v,(0,o.jsx)(d.z,{lazy:!1,collapsed:b,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{f(e),y(!e)},children:(0,o.jsx)("div",{className:c.collapsibleContent,children:a})})]})}const p={details:"details_b_Ee"},b="alert alert--info";function f(e){let{...t}=e;return(0,o.jsx)(h,{...t,className:(0,r.Z)(b,p.details,t.className)})}},20869:(e,t,a)=>{a.d(t,{RN:()=>b,T0:()=>p,ZP:()=>x,ZV:()=>f});var s=a(67294),r=a(13339),n=a(46670),l=a(21314),i=a(74322),d=a(86010),c=a(76177),o=a(8849),u=a.n(o),m=a(55317),h=a(85893);const p={checked:m.mdiCheckboxMarkedOutline,unset:m.mdiCheckboxBlankOutline,question:m.mdiAccountQuestionOutline,star:m.mdiStar,"star-half":m.mdiStarHalfFull,"star-empty":m.mdiStarOutline},b={checked:"--ifm-color-success",unset:"--ifm-color-secondary",question:"--ifm-color-warning",star:"--ifm-color-primary","star-empty":"--ifm-color-primary","star-half":"--ifm-color-primary"},f={checked:"white",unset:"black",question:"white",star:"gold","star-empty":"gold","star-half":"gold"},x=(0,n.Pi)((e=>{const t=(0,l.oR)("documentStore").find(e.webKey),a=s.useRef(null);s.useEffect((()=>{a.current&&t&&t.setWindowPositionY(a.current.getBoundingClientRect().top)}),[t,a]);return t.loaded?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{ref:a,className:(0,d.default)(r.Z.state,r.Z.stateComponent,"state-component",(e.noHeader||e.children)&&r.Z.noHeader,"no-comments"),id:`state-${t.webKey}`,children:[(0,h.jsx)("div",{className:(0,d.default)(r.Z.state,r.Z.checkbox),style:{backgroundColor:`var(${b[t.data.value]})`},onClick:()=>{const a=e.states.indexOf(t.value);t.setValue(e.states[(a+1)%e.states.length])},children:(0,h.jsx)(u(),{path:p[t.data.value],size:1,color:f[t.data.value]})}),(0,h.jsx)("div",{children:e.children||e.label})]}),(0,h.jsx)(c.l,{webKey:e.webKey})]}):(0,h.jsx)(i.Z,{})}))},76177:(e,t,a)=>{a.d(t,{c:()=>h,l:()=>m});var s=a(21314),r=a(86010),n=a(46670),l=a(67294),i=a(13339),d=a(20869),c=a(96486),o=a.n(c),u=a(85893);const m=(0,n.Pi)((e=>{const t=(0,s.oR)("adminStore"),[a,n]=l.useState();l.useEffect((()=>{n(window.location.pathname.replace("/","").split("/")[0])}),[]);const{viewGroupFilter:c}=t;return(0,u.jsx)(u.Fragment,{children:t.isAdmin&&t.showTaskStates&&a&&(0,u.jsx)("div",{className:(0,r.default)(i.Z.admin),children:t.findByWebKey(a,e.webKey).map(((e,a)=>{const s=t.getUser(e.user_id);return!s||c&&!s.groups.includes(c)?null:(0,u.jsxs)("div",{className:(0,r.default)(i.Z.box),children:[(0,u.jsx)("div",{className:(0,r.default)(i.Z.state),style:{backgroundColor:`var(${d.RN[e.data.value]})`},onClick:()=>{t.setView(e.user_id)},children:(0,u.jsx)("i",{className:(0,r.default)("mdi",d.T0[e.data.value]),style:{color:`${d.ZV[e.data.value]}`}})}),(0,u.jsx)("div",{className:(0,r.default)(i.Z.nameWrapper),children:(0,u.jsx)("div",{className:(0,r.default)(i.Z.name),children:s.name||"Name"})})]},a)}))})})})),h=(0,n.Pi)((e=>{const t=(0,s.oR)("adminStore"),[a,n]=l.useState(),{viewGroupFilter:c}=t;l.useEffect((()=>{n(window.location.pathname.replace("/","").split("/")[0])}),[]);let m=t.filteredBy(a,e.pageId,"state");c&&(m=m.filter((e=>{const a=t.getUser(e.user_id);return a?.groups.includes(c)})));const h=o().groupBy(m,(e=>t.getUser(e.user_id)?.name||"Name"));return(0,u.jsx)(u.Fragment,{children:t.isAdmin&&t.showTaskStateSummary&&a&&(0,u.jsx)("div",{className:(0,r.default)(i.Z.admin,i.Z.summary),children:Object.keys(h).sort().map(((e,a)=>(0,u.jsxs)("div",{className:(0,r.default)(i.Z.box,i.Z.overviewBox),children:[h[e].map(((e,a)=>(0,u.jsx)("div",{className:(0,r.default)(i.Z.state),style:{backgroundColor:`var(${d.RN[e.data.value]})`},children:(0,u.jsx)("a",{className:(0,r.default)("mdi",d.T0[e.data.value]),style:{color:`${d.ZV[e.data.value]}`},href:`#state-${e.web_key}`,onClick:()=>{setTimeout((()=>{t.setView(e.user_id),t.showTaskStates||t.toggleAdminElements("task_state")}),0)}})},a))),(0,u.jsx)("div",{className:(0,r.default)(i.Z.nameWrapper),children:(0,u.jsx)("div",{className:(0,r.default)(i.Z.name),children:e})})]},a)))})})}))},24320:(e,t,a)=>{a.d(t,{x:()=>Z,Z:()=>S});var s=a(67294);const r={answer:"answer_rKAQ",option:"option_CENc",empty:"empty_rgdf",arrayAnswer:"arrayAnswer_LBzS",checkButton:"checkButton_t9Hr",correct:"correct_O0Yq",wrong:"wrong_iuvm",unchecked:"unchecked_Ffwg",string:"string_bQ7O",solution:"solution_PBIM",dropdown:"dropdown_v9No",current:"current_jPR7",active:"active_Vst5",blue:"blue_V0jO",red:"red_ItqC",green:"green_mP_V",black:"black_n9n0",dropdownMenu:"dropdownMenu_UYca"};var n=a(86010),l=a(46670),i=a(68949),d=a(72389),c=a(21314),o=a(74322),u=a(85893);const m=(0,l.Pi)((e=>{const[t,a]=s.useState(e.value?e.items.findIndex((t=>t.value===e.value)):0),l=e.items[t];return(0,u.jsxs)("div",{className:(0,n.default)("dropdown",r.dropdown,e.className),children:[(0,u.jsx)("div",{className:(0,n.default)(r.current,r.option,!l.color&&r.empty,l.className,e.disabled&&r.disabled),"data-toggle":"dropdown",onClick:t=>{if(e.disabled)return;const a=t.currentTarget,s=a.parentElement;function r(){a.classList.remove("button--active"),s.classList.remove("dropdown--show"),document.removeEventListener("click",r)}s.classList.contains("dropdown--show")||(a.classList.add("button--active"),s.classList.add("dropdown--show"),setTimeout((()=>{document.addEventListener("click",r)}),0))},children:l.label||l.value}),(0,u.jsx)("div",{className:(0,n.default)(r.dropdownMenu,"dropdown__menu"),children:e.items.map(((s,l)=>(0,u.jsx)("div",{onClick:()=>((t,s)=>{a(s),e.onChange(t)})(s.value,l),className:(0,n.default)(r.option,s.className,!s.color&&r.empty,t===l&&r.active),children:(0,u.jsx)("span",{children:s.label||s.value})},l)))})]})})),h=/--(?<klass>\w+)$/,p=e=>{if(h.test(e))return e.match(h).groups.klass},b=e=>r[p(e)],f=(0,l.Pi)((e=>{const t=(0,d.Z)(),[a,l]=s.useState("unchecked"),h=(0,c.oR)("documentStore").find(e.webKey),f=e=>{h.loaded&&(l("unchecked"),h.setData({value:e,type:"string"}))},x=t=>{if(e.checker)return l(e.checker(t)?"correct":"wrong");const a=e.sanitizer?e.sanitizer:e=>e;l(a(t)===a(e.solution)?"correct":"wrong")};if(s.useEffect((()=>(0,i.U5)((()=>h.loaded),(e=>{e&&x(h.value)}))),[h]),s.useEffect((()=>{h.loaded&&h.setState(a)}),[h,a]),s.useEffect((()=>{h.loaded&&x(h.value)}),[h,t]),!t)return(0,u.jsx)("div",{children:"SSR"});if(!h.loaded)return(0,u.jsx)(o.Z,{});const y=e.solution||e.checker;return(0,u.jsxs)("div",{className:(0,n.default)(r.answer,r.string,"notranslate","no-comments"),children:[e.label&&(0,u.jsx)("label",{style:{width:e.labelWidth},children:e.label}),e.children&&(0,u.jsx)("label",{children:e.children}),e.select?(0,u.jsx)(m,{onChange:f,items:e.select.map(((e,t)=>({value:e,label:p(e),className:b(e)}))),value:h.value,className:(0,n.default)(b(h.value),y&&r.solution),disabled:!h.loaded}):(0,u.jsx)("input",{type:"text",style:{width:e.width},spellCheck:!1,onChange:e=>{f(e.target.value)},value:h.value,placeholder:e.placeholder,disabled:!h.loaded||h.readonly||e.disabled}),y&&(0,u.jsx)("button",{onClick:e=>{x(h.value)},className:(0,n.default)(r[a],r.checkButton),children:(0,u.jsx)("i",{className:(0,n.default)("mdi",(v=a,"correct"===v?"mdi-check-circle":"wrong"===v?"mdi-close-circle":"mdi-help-circle-outline"))})})]});var v})),x=/--(?<klass>\w+)$/,y=e=>r[(e=>{if(x.test(e))return e.match(x).groups.klass})(e)],v=(0,l.Pi)((e=>{const t=(0,c.oR)("documentStore").find(e.webKey),a=function(e,a){void 0===a&&(a=0);const s=[...t.data.value.slice(0,a),e,...t.data.value.slice(a+1)];t.setData({...t.data,value:s})};return t.loaded?(0,u.jsxs)("div",{className:r.answer,children:[e.label&&(0,u.jsx)("label",{children:e.label}),(0,u.jsx)("div",{className:r.arrayAnswer,children:t.data.value.map(((s,r)=>e.select?(0,u.jsx)(m,{value:s,onChange:e=>a(e,r),items:e.select.map(((e,t)=>{const a=e.replace(x,"");return{value:e,label:a||e,className:y(e)}}))}):(0,u.jsx)("input",{type:"text",onChange:e=>a(e.target.value,r),value:s,disabled:!t.loaded||t.readonly},r)))})]}):(0,u.jsx)(o.Z,{})}));var g=a(31288);const j=(0,l.Pi)((e=>{const t=(0,c.oR)("documentStore").find(e.webKey);return t.loaded?(0,u.jsxs)("div",{className:"notranslate",children:[e.label&&(0,u.jsx)("h6",{children:e.label}),(0,u.jsx)(g.Z,{model:t,...e,readonly:t.readonly})]}):(0,u.jsx)(o.Z,{})}));var w=a(47271);const k=(0,l.Pi)((e=>(0,c.oR)("documentStore").find(e.webKey).saveService.isOffline?(0,u.jsx)("div",{children:(0,u.jsx)("span",{className:(0,n.default)("badge","badge--danger"),title:"Netzwerkverbindung \xfcberpr\xfcfen!",children:"\u26a0\ufe0f Offline"})}):null));var N=a(97762),_=a(20869);const Z=e=>e.replace(/\s+/g,"").toUpperCase(),S=(0,l.Pi)((e=>{const t=(0,c.oR)("documentStore"),a=(0,c.oR)("msalStore"),s=t.find(e.webKey),r=(0,d.Z)();return(0,c.ky)((()=>(e=>{switch(e.type){case"string":return{value:e.default||"",type:"string"};case"text":return{value:e.default||N.renderToString(e.children),type:"text"};case"array":return{value:Array(e.size).fill(""),type:"array",size:e.size};case"state":return{type:"state",value:"unset"}}})(e)),e.type,e.webKey,!0),r?s?(0,u.jsxs)("div",{"data--web-key":e.webKey,className:(0,n.default)("answer",e.type),children:[(0,u.jsx)(w.Z,{}),a.loggedIn&&(0,u.jsx)(k,{webKey:e.webKey}),"text"===e.type&&(0,u.jsx)(j,{...e}),"string"===e.type&&(0,u.jsx)(f,{...e}),"array"===e.type&&(0,u.jsx)(v,{...e}),"state"===e.type&&(0,u.jsx)(_.ZP,{states:["unset","checked","question"],...e})]}):(0,u.jsx)(o.Z,{}):(0,u.jsx)("div",{style:{height:"1em"}})}))},47271:(e,t,a)=>{a.d(t,{Z:()=>d});a(67294);const s="noLoginAlert_HRfh";var r=a(33692),n=a(46670),l=a(21314),i=a(85893);const d=(0,n.Pi)((()=>(0,l.oR)("msalStore").loggedIn?null:(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("span",{className:"badge badge--danger",children:"\u26a0\ufe0f Nicht Eingeloggt"})," Speichern nur mit GBSL-Login m\xf6glich. ",(0,i.jsx)(r.Z,{to:"/login",children:"Login"})]})))},55274:(e,t,a)=>{a.d(t,{Z:()=>d});a(67294);var s=a(34673),r=a(21314),n=a(24320),l=a(46670),i=a(85893);const d=(0,l.Pi)((e=>{const t=(0,r.oR)("documentStore").find(e.webKey);return(0,i.jsx)(s.Z,{summary:(0,i.jsx)("summary",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,i.jsx)(n.Z,{type:"string",webKey:e.webKey,solution:e.solution,checker:e.checker,sanitizer:e.sanitizer})}),open:!0,children:t?.loaded&&"correct"===t?.state&&e.children})}))},74322:(e,t,a)=>{a.d(t,{Z:()=>o});a(67294);var s=a(86010);const r="loader_FEpR",n="badge_oWqf",l="overlay_cqDg";var i=a(99603),d=a(59417),c=a(85893);const o=e=>(0,c.jsxs)("div",{className:(0,s.default)(r,e.overlay&&l),children:[(0,c.jsx)(i.G,{icon:d.IJ7,spin:!0}),(0,c.jsx)("span",{className:(0,s.default)("badge",n),children:e.caption||"Laden..."})]})},31288:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(72389),r=a(46670),n=a(67294),l=a(85893);const i=(0,r.Pi)((e=>{const[t,r]=n.useState();return n.useEffect((()=>{Promise.all([a.e(40532),a.e(64004),a.e(61897),a.e(84729)]).then(a.bind(a,84729)).then((e=>{r(e)}))}),[]),(0,s.Z)()?t?(0,l.jsx)(t.default,{...e}):(0,l.jsx)("div",{}):(0,l.jsx)("div",{children:e.model.text})}))},13339:(e,t,a)=>{a.d(t,{Z:()=>s});const s={state:"state_xAV3",checkbox:"checkbox_HXMO",stateComponent:"stateComponent_KKOm",noHeader:"noHeader__8m3",admin:"admin_yhn5",summary:"summary_r2i8",box:"box_nEnD",nameWrapper:"nameWrapper_q6u9",name:"name_FE1M",overviewBox:"overviewBox_dFeA"}},86620:(e,t,a)=>{a.d(t,{Z:()=>s});const s=a.p+"assets/images/schema-d1d1627a746a21892a434bd83123b8d8.png"}}]);