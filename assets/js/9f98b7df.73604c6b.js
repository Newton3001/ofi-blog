"use strict";(self.webpackChunkofi_blog_versioned=self.webpackChunkofi_blog_versioned||[]).push([[5807],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>k});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),l=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):m(m({},n),e)),t},s=function(e){var n=l(e.components);return a.createElement(p.Provider,{value:n},e.children)},o="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},N=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),o=l(t),N=r,k=o["".concat(p,".").concat(N)]||o[N]||c[N]||i;return t?a.createElement(k,m(m({ref:n},s),{},{components:t})):a.createElement(k,m({ref:n},s))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,m=new Array(i);m[0]=N;var d={};for(var p in n)hasOwnProperty.call(n,p)&&(d[p]=n[p]);d.originalType=e,d[o]="string"==typeof e?e:r,m[1]=d;for(var l=2;l<i;l++)m[l]=t[l];return a.createElement.apply(null,m)}return a.createElement.apply(null,t)}N.displayName="MDXCreateElement"},18954:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>m,default:()=>b,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var a=t(87462),r=(t(67294),t(3905));const i={sidebar_custom_props:{id:"9f8b397a-500e-4a62-b884-b6441df17902"}},m="Tabellen Erstellen",d={unversionedId:"Datenbanken/sql/create",id:"version-24ef/Datenbanken/sql/create",title:"Tabellen Erstellen",description:"Datenbank erstellen",source:"@site/versioned_docs/version-24ef/03-Datenbanken/01-sql/04-create.md",sourceDirName:"03-Datenbanken/01-sql",slug:"/Datenbanken/sql/create",permalink:"/24ef/Datenbanken/sql/create",draft:!1,editUrl:"https://github.com/lebalz/ofi-blog/tree/main/docs",tags:[],version:"24ef",sidebarPosition:4,frontMatter:{sidebar_custom_props:{id:"9f8b397a-500e-4a62-b884-b6441df17902"}},sidebar:"version-24ef/sidebar",previous:{title:"Mehrtabellenabfragen (Joins)",permalink:"/24ef/Datenbanken/sql/joins"},next:{title:"Datens\xe4tze Manipulieren",permalink:"/24ef/Datenbanken/sql/update-delete"}},p={},l=[{value:"Datenbank erstellen",id:"datenbank-erstellen",level:2},{value:"Tabellen erstellen",id:"tabellen-erstellen-1",level:2},{value:"Datens\xe4tze einf\xfcgen",id:"datens\xe4tze-einf\xfcgen",level:3},{value:"Tabellen l\xf6schen",id:"tabellen-l\xf6schen",level:3},{value:"Constraints",id:"constraints",level:3},{value:"Verkn\xfcpfte Tabellen",id:"verkn\xfcpfte-tabellen",level:2}],s=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",n)},o=s("Comment"),c=s("Answer"),N={toc:l},k="wrapper";function b(e){let{components:n,...t}=e;return(0,r.kt)(k,(0,a.Z)({},N,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h1",{parentName:"div",id:"tabellen-erstellen"},"Tabellen Erstellen"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:0,mdxType:"Comment"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h2",{parentName:"div",id:"datenbank-erstellen"},"Datenbank erstellen"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:1,mdxType:"Comment"})),(0,r.kt)("admonition",{type:"def"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"create-database"},(0,r.kt)("inlineCode",{parentName:"h3"},"CREATE DATABASE")),(0,r.kt)(o,{parentName:"div",type:"heading",nr:2,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE DATABASE")," kann eine neue Datenbank erstellt werden."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:0,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE DATABASE ef_reto;\n"))),(0,r.kt)("admonition",{type:"def"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"drop-database"},(0,r.kt)("inlineCode",{parentName:"h3"},"DROP DATABASE")),(0,r.kt)(o,{parentName:"div",type:"heading",nr:3,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Die Datenbank kann mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"DROP DATABASE")," auch wieder gel\xf6scht werden:"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:1,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DROP DATABASE ef_reto;\n")),(0,r.kt)("admonition",{parentName:"admonition",title:"Wichtig",type:"danger"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Bitte l\xf6schen Sie nur Datenbanken, die Sie selber erstellt haben!",(0,r.kt)("br",{parentName:"p"}),"\n","Der Einfachheit halber haben Sie auf der Kursdatenbank ",(0,r.kt)("strong",{parentName:"p",className:"underline"},"EDU-DBs EF")," alle Rechte..."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:2,mdxType:"Comment"})))),(0,r.kt)("admonition",{title:"1. Datenbank erstellen",type:"aufgabe"},(0,r.kt)(c,{type:"state",webKey:"6b4f812b-2ccf-4beb-b551-71e774fa9c6c",mdxType:"Answer"}),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("dl",{parentName:"div"},(0,r.kt)("dt",{parentName:"dl"},"Datenbank\n"),(0,r.kt)("dd",{parentName:"dl"},"\ud83d\udc49 ",(0,r.kt)("a",{parentName:"dd",href:"https://db-sql.ch/connections/d68ea3c2-eb9f-4454-aa19-9c00764757b5"},"https://db-sql.ch/connections/d68ea3c2-eb9f-4454-aa19-9c00764757b5"))),(0,r.kt)(o,{parentName:"div",type:"deflist",nr:0,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Erstellen Sie eine eigene Datenbank mit nach folgendem Schema ",(0,r.kt)("inlineCode",{parentName:"p"},"ef_name"),", wobei Sie nat\xfcrlich Ihren eigenen Namen verwenden. Wenn der Befehl erfolgreich ausgef\xfchrt wurde, sollte Ihre Datenbank nach dem Aktualisieren der Verbindungen ",(0,r.kt)("i",{parentName:"p",className:"mdi-sync mdi l"})," angezeigt werden."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:3,mdxType:"Comment"})),(0,r.kt)(c,{type:"text",webKey:"b1b0b2a9-5b0a-4b0a-9b0a-5b0a4b0a9b0a",monospace:!0,mdxType:"Answer"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h2",{parentName:"div",id:"tabellen-erstellen-1"},"Tabellen erstellen"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:4,mdxType:"Comment"})),(0,r.kt)("admonition",{type:"def"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"create-table"},(0,r.kt)("inlineCode",{parentName:"h3"},"CREATE TABLE")),(0,r.kt)(o,{parentName:"div",type:"heading",nr:5,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Tabellen werden mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE TABLE")," erstellt. Die Spalten werden mit dem Namen und dem Datentyp definiert."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:4,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE persons (\n    id INT,\n    name TEXT,\n    alter INT,\n    beschreibung TEXT\n)\n")),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("strong",{parentName:"p"},"Konvention")," Der Name der Tabelle wird immer im Plural geschrieben."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:5,mdxType:"Comment"}))),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"datens\xe4tze-einf\xfcgen"},"Datens\xe4tze einf\xfcgen"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:6,mdxType:"Comment"})),(0,r.kt)("admonition",{type:"def"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"insert-into"},(0,r.kt)("inlineCode",{parentName:"h3"},"INSERT INTO")),(0,r.kt)(o,{parentName:"div",type:"heading",nr:7,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT INTO")," k\xf6nnen Datens\xe4tze in die Tabelle eingef\xfcgt werden."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:6,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO persons \n    (id, name, alter, beschreibung)\nVALUES \n    (1, 'Maria Muster', 42, 'Ein ganz normaler Mensch'),\n    (2, 'Hans Monster', 55, 'Ein ganz monstr\xf6ser Mensch');\n"))),(0,r.kt)("admonition",{title:"2. Datens\xe4tze einf\xfcgen",type:"aufgabe"},(0,r.kt)(c,{type:"state",webKey:"e1fec5d5-ad04-4552-a4bc-476aa1d2147d",mdxType:"Answer"}),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("dl",{parentName:"div"},(0,r.kt)("dt",{parentName:"dl"},"Datenbank\n"),(0,r.kt)("dd",{parentName:"dl"},(0,r.kt)("i",{parentName:"dd",className:"mdi-alert mdi orange"})," mit der eigenen Datenbank verbinden!"),(0,r.kt)("dd",{parentName:"dl"},"\ud83d\udc49 ",(0,r.kt)("a",{parentName:"dd",href:"https://db-sql.ch/connections/d68ea3c2-eb9f-4454-aa19-9c00764757b5"},"https://db-sql.ch/connections/d68ea3c2-eb9f-4454-aa19-9c00764757b5"))),(0,r.kt)(o,{parentName:"div",type:"deflist",nr:1,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Erstellen Sie eine Personen-Tabelle mit einigen selbst gew\xe4hlten Attributen und f\xfcgen Sie einige Datens\xe4tze ein. Halten Sie das Query unten fest."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:7,mdxType:"Comment"})),(0,r.kt)(c,{type:"text",webKey:"79edb637-4944-469f-b2b7-b35e2dba8ff6",mdxType:"Answer"}),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Was passiert, wenn Sie nun nochmals die gleichen Datens\xe4tze einf\xfcgen?"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:8,mdxType:"Comment"})),(0,r.kt)(c,{type:"text",webKey:"86f5d5b3-3266-4f3f-a1b5-60bbe11239bf",mdxType:"Answer"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"tabellen-l\xf6schen"},"Tabellen l\xf6schen"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:8,mdxType:"Comment"})),(0,r.kt)("admonition",{type:"def"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"drop-table"},(0,r.kt)("inlineCode",{parentName:"h3"},"DROP TABLE")),(0,r.kt)(o,{parentName:"div",type:"heading",nr:9,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Um eine Tabelle zu l\xf6schen, wird der Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"DROP TABLE")," verwendet."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:9,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DROP TABLE persons;\n"))),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"constraints"},"Constraints"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:10,mdxType:"Comment"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Constraints sind Regeln, die auf die Daten angewendet werden. Sie k\xf6nnen auf die Spalten oder auf die ganze Tabelle angewendet werden. So wird sichergestellt, dass die Daten in der Tabelle immer korrekt sind."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:10,mdxType:"Comment"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Damit kann bspw. auch verhindert werden, dass wie oben geschehen, die gleichen Datens\xe4tze mehrmals eingef\xfcgt werden."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:11,mdxType:"Comment"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("dl",{parentName:"div"},(0,r.kt)("dt",{parentName:"dl"},(0,r.kt)("inlineCode",{parentName:"dt"},"PRIMARY KEY")),(0,r.kt)("dd",{parentName:"dl"},"Prim\xe4rschl\xfcssel - Die Datenbank stellt sicher, dass der verwendete Schl\xfcssel eindeutig ist und nicht ",(0,r.kt)("inlineCode",{parentName:"dd"},"NULL")," ist."),(0,r.kt)("dt",{parentName:"dl"},(0,r.kt)("inlineCode",{parentName:"dt"},"NOT NULL")),(0,r.kt)("dd",{parentName:"dl"},"Die Spalte darf nicht ",(0,r.kt)("inlineCode",{parentName:"dd"},"NULL")," sein."),(0,r.kt)("dt",{parentName:"dl"},(0,r.kt)("inlineCode",{parentName:"dt"},"UNIQUE")),(0,r.kt)("dd",{parentName:"dl"},"Der Wert in der Spalte muss eindeutig sein."),(0,r.kt)("dt",{parentName:"dl"},(0,r.kt)("inlineCode",{parentName:"dt"},"DEFAULT")),(0,r.kt)("dd",{parentName:"dl"},"Der Standardwert, der verwendet wird, wenn kein Wert angegeben wird."),(0,r.kt)("dt",{parentName:"dl"},(0,r.kt)("inlineCode",{parentName:"dt"},"SERIAL")),(0,r.kt)("dd",{parentName:"dl"},"Automatisch generierter Wert, der bei jedem neuen Datensatz um 1 erh\xf6ht wird. Beim Prim\xe4rschl\xfcssel muss dadurch beim Erstellen eines Datensatzes kein Wert angegeben werden."),(0,r.kt)("dt",{parentName:"dl"},(0,r.kt)("inlineCode",{parentName:"dt"},"DEFAULT CURRENT_TIMESTAMP")),(0,r.kt)("dd",{parentName:"dl"},"Der aktuelle Zeitstempel wird als Standardwert verwendet.")),(0,r.kt)(o,{parentName:"div",type:"deflist",nr:2,mdxType:"Comment"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Obige Tabelle k\xf6nnte also auch wie folgt definiert werden:"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:12,mdxType:"Comment"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE persons (\n    id SERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    alter INT,\n    beschreibung TEXT DEFAULT 'Keine Beschreibung vorhanden',\n    erstellt_am TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n)\n")),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Die Eingabe wird wegen der automatischen ID's etwas einfacher. Bemerken Sie zudem, dass automatisch von der Datenbank ein Zeitstempel gesetzt wird."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:13,mdxType:"Comment"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO persons \n    (name, alter, beschreibung)\nVALUES \n    ('Maria Muster', 42, 'Ein ganz normaler Mensch'),\n    ('Hans Monster', 55, 'Ein ganz monstr\xf6ser Mensch');\n")),(0,r.kt)("admonition",{title:"3. Tabelle mit Constraints",type:"aufgabe"},(0,r.kt)(c,{type:"state",webKey:"805b507b-93bc-40bd-a78d-9ce3fc531cad",mdxType:"Answer"}),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("dl",{parentName:"div"},(0,r.kt)("dt",{parentName:"dl"},"Datenbank\n"),(0,r.kt)("dd",{parentName:"dl"},(0,r.kt)("i",{parentName:"dd",className:"mdi-alert mdi orange"})," mit der eigenen Datenbank verbinden!"),(0,r.kt)("dd",{parentName:"dl"},"\ud83d\udc49 ",(0,r.kt)("a",{parentName:"dd",href:"https://db-sql.ch/connections/d68ea3c2-eb9f-4454-aa19-9c00764757b5"},"https://db-sql.ch/connections/d68ea3c2-eb9f-4454-aa19-9c00764757b5"))),(0,r.kt)(o,{parentName:"div",type:"deflist",nr:3,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Erstellen Sie Ihre Personen-Tabelle erneut (zuerst L\xf6schen...) "),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:14,mdxType:"Comment"})),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("div",{parentName:"li",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"verwenden Sie einen seriellen Prim\xe4rschl\xfcssel"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:15,mdxType:"Comment"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("div",{parentName:"li",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"stellen Sie sicher, dass ben\xf6tigte Felder gesetzt werden m\xfcssen"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:16,mdxType:"Comment"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("div",{parentName:"li",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"F\xfcgen Sie f\xfcr mindestens ein Attribut einen Standardwert"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:17,mdxType:"Comment"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("div",{parentName:"li",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"F\xfcgen Sie ein ",(0,r.kt)("inlineCode",{parentName:"p"},"erstellt_am")," (oder ",(0,r.kt)("inlineCode",{parentName:"p"},"created_at"),") Feld hinzu, welches automatisch mit dem aktuellen Zeitstempel gef\xfcllt wird."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:18,mdxType:"Comment"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("div",{parentName:"li",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"F\xfcgen Sie einige Datens\xe4tze ein - passen Sie am besten das Query von oben an."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:19,mdxType:"Comment"})))),(0,r.kt)(c,{type:"text",webKey:"8c0bda3b-ba1a-45b2-8fa4-24fab7b5c8b5",mdxType:"Answer"}),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Was passiert nun, wenn Sie die Restriktionen verletzen? Probieren Sie es aus und halten Sie einige Fehlermeldungen fest."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:20,mdxType:"Comment"})),(0,r.kt)(c,{type:"text",webKey:"7bf34055-06f2-4bf0-8b2d-54e6e1795539",mdxType:"Answer"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("h2",{parentName:"div",id:"verkn\xfcpfte-tabellen"},"Verkn\xfcpfte Tabellen"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:11,mdxType:"Comment"})),(0,r.kt)("div",{className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Beim Erstellen von Tabellen k\xf6nnen nebst Prim\xe4rschl\xfcsseln auch Fremdschl\xfcssel definiert werden. Damit wird sichergestellt, dass die Daten in den verkn\xfcpften Tabellen immer konsistent sind. Dies ist mitunter einer der wichtigsten Gr\xfcnde, eine relationale Datenbank zu verwenden."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:21,mdxType:"Comment"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE personen (\n    id SERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    alter INT,\n    beschreibung TEXT DEFAULT 'Keine Beschreibung vorhanden',\n    erstellt_am TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE adressen (\n    id SERIAL PRIMARY KEY,\n    strasse TEXT NOT NULL,\n    hausnummer TEXT NOT NULL,\n    plz TEXT NOT NULL,\n    ort TEXT NOT NULL,\n    person_id INT REFERENCES personen(id)\n);\n")),(0,r.kt)("admonition",{type:"def"},(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h3",{parentName:"div",id:"references-tabellespalte"},(0,r.kt)("inlineCode",{parentName:"h3"},"REFERENCES <tabelle>(<spalte>)")),(0,r.kt)(o,{parentName:"div",type:"heading",nr:12,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Mit dem Befehl ",(0,r.kt)("inlineCode",{parentName:"p"},"REFERENCES")," wird ein Fremdschl\xfcssel definiert. In diesem Beispiel wird sichergestellt, dass die ",(0,r.kt)("inlineCode",{parentName:"p"},"person_id")," in der Tabelle ",(0,r.kt)("inlineCode",{parentName:"p"},"adressen")," immer auf einen g\xfcltigen Datensatz in der Tabelle ",(0,r.kt)("inlineCode",{parentName:"p"},"personen")," verweist."),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:22,mdxType:"Comment"})),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("p",{parentName:"div"},"Es kann auch im Nachhinein ein Fremdschl\xfcssel hinzugef\xfcgt werden:"),(0,r.kt)(o,{parentName:"div",type:"paragraph",nr:23,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER TABLE adressen\n    ADD FOREIGN KEY (person_id) REFERENCES personen(id);\n--                      ^ Spalte fkey         ^ Tabelle(Spalte pkey)\n")),(0,r.kt)("div",{parentName:"admonition",className:"commentable"},(0,r.kt)("h4",{parentName:"div",id:"entfernen-von-constraints"},"Entfernen von Constraints"),(0,r.kt)(o,{parentName:"div",type:"heading",nr:13,mdxType:"Comment"})),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER TABLE adressen\n    DROP CONSTRAINT fkey_adresse_personen_id;\n"))))}b.isMDXComponent=!0}}]);