"use strict";(self.webpackChunkofi_blog_versioned=self.webpackChunkofi_blog_versioned||[]).push([[53744,65244],{36201:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var l=n(67294),a=n(86010),r=n(46670),o=n(21314);const c="users_LXMt",s="button_HA5Y",m="sort_megg",u="group_H7Sn";var d=n(68949),i=n(59417),E=n(99603);const p=(0,r.Pi)((e=>{const t=(0,o.oR)("userStore");return l.createElement("span",{className:m,onClick:()=>{(0,d.z)((()=>{t.sortColumn!==e.column?(t.sortColumn=e.column,t.sortOrder="asc"):t.sortOrder="asc"===t.sortOrder?"desc":"asc"}))}},t.sortColumn===e.column?l.createElement(E.G,{icon:"asc"===t.sortOrder?i.r5q:i.FPD}):l.createElement("i",{className:(0,a.default)("mdi","mdi-arrow-up-down")}))})),b=(0,r.Pi)((e=>l.createElement("span",{className:(0,a.default)(u,"badge","badge--primary")},e.name,l.createElement(E.G,{icon:i.nYk,onClick:e.onRemove})))),h=(0,r.Pi)((()=>{const[e,t]=l.useState(""),[n,r]=l.useState(""),m=(0,o.oR)("userStore"),u=(0,o.oR)("policyStore"),{current:h}=m;return h&&h.admin?l.createElement("div",{className:c},l.createElement("h3",null,"Benutzer:in"),l.createElement("input",{type:"text",placeholder:"Gruppe",value:e,onChange:e=>t(e.target.value)}),l.createElement("button",{onClick:()=>{m.createGroup(e),t("")}},"Add"),l.createElement("input",{type:"text",placeholder:"Klasse",value:n,onChange:e=>r(e.target.value)}),l.createElement("button",{onClick:()=>{m.createKlass(n),r("")}},"Add"),l.createElement("table",null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,l.createElement(p,{column:"id"}),"Id"),l.createElement("th",null,l.createElement(p,{column:"email"}),"Email"),l.createElement("th",null,l.createElement("div",{className:"dropdown dropdown--hoverable"},l.createElement("button",{className:(0,a.default)(s,"button","button--primary","button--sm")},m.filterKlasse||"Klasse"),l.createElement("ul",{className:"dropdown__menu"},m.klasses.map(((e,t)=>l.createElement("li",{className:"dropdown__link",key:t,onClick:()=>{(0,d.z)((()=>{m.filterKlasse=e}))}},e||"null")))))),l.createElement("th",null,l.createElement("div",{className:"dropdown dropdown--hoverable"},l.createElement("button",{className:(0,a.default)(s,"button","button--primary","button--sm")},m.filterGroup||"Gruppe"),l.createElement("ul",{className:"dropdown__menu"},Array.from(new Set([void 0,...m.groups,...u.groups])).map(((e,t)=>l.createElement("li",{className:"dropdown__link",key:t,onClick:()=>{(0,d.z)((()=>{m.filterGroup=e}))}},e||"null")))))),l.createElement("th",null,"Admin?"),l.createElement("th",null,l.createElement(p,{column:"created_at"}),"Created At"))),l.createElement("tbody",null,m.filteredUsers.map(((e,t)=>l.createElement("tr",{key:t},l.createElement("td",null,e.id),l.createElement("td",null,e.email),l.createElement("td",null,l.createElement("div",{className:"dropdown dropdown--hoverable"},l.createElement("button",{className:(0,a.default)(s,"button","button--secondary","button--sm")},e.klasse||"null"),l.createElement("ul",{className:"dropdown__menu"},m.klasses.map(((t,n)=>l.createElement("li",{className:"dropdown__link",key:n,onClick:()=>{(0,d.z)((()=>{m.setKlasse(e,t)}))}},t||"null")))))),l.createElement("td",null,e.groups.map(((t,n)=>l.createElement(b,{key:n,name:t,onRemove:()=>m.removeGroup(e,t)}))),l.createElement("div",{className:"dropdown dropdown--hoverable"},l.createElement("button",{className:(0,a.default)(s,"button","button--secondary","button--sm")},l.createElement(E.G,{icon:i.r8p})),l.createElement("ul",{className:"dropdown__menu"},Array.from(new Set([void 0,...m.groups,...u.groups])).map(((t,n)=>l.createElement("li",{className:(0,a.default)("dropdown__link"),key:n,onClick:()=>{(0,d.z)((()=>{m.addGroup(e,t)}))}},t)))))),l.createElement("td",null,e.admin&&l.createElement("span",{className:"badge badge--primary"},"Admin")),l.createElement("td",null,e.createdAt.toISOString().slice(0,10)))))))):null}))},33298:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var l=n(67294),a=n(86010);const r="loginPage_BSFg";var o=n(87687),c=n(52263),s=n(98513),m=n(21314),u=n(39960),d=n(46670),i=n(36201),E=n(98106),p=n(99603),b=n(59417);function h(){const{siteConfig:e}=(0,c.Z)();return l.createElement("header",{className:(0,a.default)("hero hero--primary",s.Z.heroBanner)},l.createElement("div",{className:"container"},l.createElement("h1",{className:"hero__title"},e.title),l.createElement("p",{className:"hero__subtitle"},e.tagline)))}const g=(0,d.Pi)((()=>{const e=(0,m.oR)("msalStore"),t=(0,m.oR)("userStore"),{account:n,loggedIn:c}=e,{current:s}=t;return l.createElement(o.Z,null,l.createElement(h,null),l.createElement("main",null,l.createElement("div",{className:r},c?l.createElement(l.Fragment,null,l.createElement("h3",null,"Eingeloggt als ",n.username),l.createElement("button",{className:(0,a.default)("button","button--primary"),onClick:()=>{(0,E.a)().then((e=>{const t=document.createElement("a"),l=new Blob([JSON.stringify(e.data)],{type:"application/json;charset=utf-8"});t.href=URL.createObjectURL(l),t.download=`data-${n.username}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}))},title:"Download"},"Alle Pers\xf6nliche Daten herunterladen ",l.createElement(p.G,{icon:b.q7m})),l.createElement("div",{style:{height:"3em"}}),l.createElement("a",{className:(0,a.default)("button","button--secondary"),href:`mailto:balthasar.hofer@gbsl.ch?subject=[${window.location.hostname}]: Datenl\xf6schung f\xfcr ${n.username}&body=Guten Tag%0D%0A%0D%0A\nHiermit beantrage ich die vollst\xe4ndige und unwiderrufliche L\xf6schung meiner Daten der Webseite ${window.location.hostname}.%0D%0A%0D%0A\n\nE-Mail: ${n.username}%0D%0A\nAccount-ID: ${s?.id}%0D%0A%0D%0A\n\nBitte best\xe4tigen Sie die L\xf6schung meiner Daten.%0D%0A%0D%0A\n\nFreundliche Gr\xfcsse,%0D%0A\n${s?.firstName} ${s?.lastName}, ${s?.klasse??""}&cc=${n.username}`},"Datenl\xf6schung beantragen"),l.createElement("div",{style:{height:"3em"}}),l.createElement("button",{className:"button button--danger",style:{color:"black"},onClick:()=>e.logout()},"Logout")):l.createElement(u.Z,{to:"/",onClick:()=>e.login(),className:"button button--warning",style:{color:"black"}},"Login mit GBSL Account"),l.createElement(i.default,null))))}))},98513:(e,t,n)=>{n.d(t,{Z:()=>l});const l={heroBanner:"heroBanner_jHI5",buttons:"buttons_Pntg",news:"news_V9en",row:"row_rDOz",col:"col_oQuM"}}}]);