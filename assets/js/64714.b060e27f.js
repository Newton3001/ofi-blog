"use strict";(self.webpackChunkofi_blog_versioned=self.webpackChunkofi_blog_versioned||[]).push([[64714],{64714:(e,o,n)=>{n.r(o),n.d(o,{default:()=>u});var a=n(67294),t=n(86010),d=n(28137),s=n(52616),i=n(46670),r=n(21314),c=n(74981),m=(n(56604),n(4007),n(89899),n(44077),n(57787),n(82679),n(66245),n(85893));const l={mpy:"python"},u=(0,i.Pi)((e=>{const o=(0,r.oR)("documentStore").find(e.webKey),n=a.useRef(null);return a.useEffect((()=>{if(n&&n.current){const a=n.current;return"python"===e.lang&&a.editor.commands.addCommand({name:"execute",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:()=>o.execScript(window.__BRYTHON__)}),a.editor.commands.addCommand({name:"save",bindKey:{win:"Ctrl-s",mac:"Command-s"},exec:()=>{o.saveService.saveNow()}}),()=>{if(a&&a.editor){const e=a.editor.commands.commands.execute;e&&a.editor.commands.removeCommand(e,!0);const o=a.editor.commands.commands.save;o&&a.editor.commands.removeCommand(o,!0)}}}}),[n,o]),(0,m.jsx)("div",{className:(0,t.default)(d.Z.brythonCodeBlock,d.Z.editor),children:(0,m.jsx)(c.ZP,{className:(0,t.default)(d.Z.brythonEditor,!e.showLineNumbers&&d.Z.noGutter),style:{width:"100%"},onPaste:e=>{o.versioned&&(o.setPastedEdit(!0),o.saveService.saveNow())},focus:!1,navigateToFileEnd:!1,maxLines:e.maxLines||25,ref:n,mode:l[e.lang]??e.lang,theme:"dracula",onChange:e=>{o.setData({code:e})},readOnly:o.showRaw||!o.loaded,value:o.showRaw?o.rawScript:o.data.code,defaultValue:o.code,name:s.h5.aceEditor(o.codeId),editorProps:{$blockScrolling:!0},setOptions:{displayIndentGuides:!0,vScrollBarAlwaysVisible:!1,highlightGutterLine:!1},showPrintMargin:!1,highlightActiveLine:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,enableSnippets:!1,showGutter:e.showLineNumbers})})}))}}]);